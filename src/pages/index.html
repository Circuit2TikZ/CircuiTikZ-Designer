<!doctype html>
<html lang="en-US">
	<head>
		<title>CircuiCanvas</title>
		<meta
			name="viewport"
			content="width=device-width, height=device-height, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1"
		/>

		<link rel="apple-touch-icon" sizes="57x57" href="../icons/apple-icon-57x57.png" />
		<link rel="apple-touch-icon" sizes="60x60" href="../icons/apple-icon-60x60.png" />
		<link rel="apple-touch-icon" sizes="72x72" href="../icons/apple-icon-72x72.png" />
		<link rel="apple-touch-icon" sizes="76x76" href="../icons/apple-icon-76x76.png" />
		<link rel="apple-touch-icon" sizes="114x114" href="../icons/apple-icon-114x114.png" />
		<link rel="apple-touch-icon" sizes="120x120" href="../icons/apple-icon-120x120.png" />
		<link rel="apple-touch-icon" sizes="144x144" href="../icons/apple-icon-144x144.png" />
		<link rel="apple-touch-icon" sizes="152x152" href="../icons/apple-icon-152x152.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="../icons/apple-icon-180x180.png" />
		<link rel="icon" type="image/png" sizes="192x192" href="../icons/android-icon-192x192.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="../icons/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="96x96" href="../icons/favicon-96x96.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="../icons/favicon-16x16.png" />
		<link rel="manifest" href="manifest.json" />
		<meta name="msapplication-TileColor" content="#2F586E" />
		<meta name="msapplication-TileImage" content="../icons/ms-icon-144x144.png" />
		<meta name="theme-color" content="#2F586E" />

		<link rel="stylesheet" href="../styles/styles.scss" />
		<!-- <link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
		/> -->
		<link
			rel="preload"
			href="../data/symbols.svg"
			type="image/svg+xml"
			as="fetch"
			id="symbolDBlink"
			crossorigin="anonymous"
		/>
		<script type="module" src="../scripts/index.js"></script>
	</head>

	<body>
		<!-- Top left floating buttons -->
		<a id="addComponentButton" class="material-symbols-outlined" role="button" data-bs-toggle="tooltip" data-bs-delay='{"show":500,"hide":250}' data-bs-placement="bottom" data-bs-title="Open component drawer" aria-controls="leftOffcanvas">add</a>
		<a id="modeDragPan" class="material-symbols-outlined selected" role="button" data-bs-toggle="tooltip" data-bs-delay='{"show":500,"hide":250}' data-bs-placement="bottom" data-bs-title="Pan or zoom the canvas (Esc)">drag_pan</a>
		<a id="modeDrawLine" class="material-symbols-outlined" role="button" data-bs-toggle="tooltip" data-bs-delay='{"show":500,"hide":250}' data-bs-placement="bottom" data-bs-title="Draw wires (W)">draw</a>
		<a id="modeEraser" class="material-symbols-outlined" role="button" data-bs-toggle="tooltip" data-bs-delay='{"show":500,"hide":250}' data-bs-placement="bottom" data-bs-title="Erase components and wires (E, Del)">ink_eraser</a>

		<!-- Top right menu -->
		<div class="btn-group" id="rightDropdownMenu">
			<a
				id="rightDropdownMenuToggle"
				class="material-symbols-outlined"
				role="button"
				data-bs-toggle="dropdown"
				aria-expanded="false"
				>menu</a
			>
			<ul class="dropdown-menu dropdown-menu-end">
				<li>
					<button type="button" class="dropdown-item disabled" aria-disabled="true">
						<span class="material-symbols-outlined dropdown-item-icon">file_open</span>
						Open
					</button>
				</li>
				<li>
					<button type="button" class="dropdown-item disabled" aria-disabled="true">
						<span class="material-symbols-outlined dropdown-item-icon">save</span>
						Save
					</button>
				</li>
				<li><hr class="dropdown-divider" /></li>
				<li>
					<button type="button" class="dropdown-item" id="exportCircuiTikZButton">
						<span class="material-symbols-outlined dropdown-item-icon">code</span>
						Export CircuiTikZ code
					</button>
				</li>
				<li>
					<button type="button" class="dropdown-item disabled" aria-disabled="true">
						<span class="material-symbols-outlined dropdown-item-icon">image</span>
						Export SVG
					</button>
				</li>
				<li><hr class="dropdown-divider" /></li>
				<li>
					<button type="button" class="dropdown-item" data-bs-toggle="modal" data-bs-target="#aboutModal">
						<span class="dropdown-item-icon material-symbols-outlined">info</span>
						About Project
					</button>
				</li>
			</ul>
		</div>

		<!-- Bottom right floating action buttons -->
		<div class="fixed-action-btn" id="floatingActionButtonContainer" style="display: none">
			<a class="btn btn-floating" id="mainFAB">
				<span class="material-symbols-outlined">done</span>
			</a>

			<ul class="list-unstyled" id="subFloatingActionButtonContainer"></ul>
		</div>

		<!-- Left offcanvas (symbol DB) -->
		<div id="leftOffcanvas" class="offcanvas offcanvas-start" tabindex="-1">
			<div class="offcanvas-header">
				<h5 class="offcanvas-title" id="offcanvasLabel">Symbols</h5>
				<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
			</div>
			<div class="offcanvas-body">
				<div class="offcanvas-search">
					<span class="material-symbols-outlined">search</span>
					<input type="search" class="form-control" id="componentFilterInput" placeholder="Search" aria-label="Search">
				</div>
				<div id="invalid-feedback-text" class="invalid-feedback d-block d-none">
					Please enter a valid (regex) search string!
				</div>
				<div class="accordion" id="leftOffcanvasAccordion"></div>
			</div>
		</div>

		<!-- Modal (export dialog) -->
		<div
			class="modal fade"
			id="exportModal"
			tabindex="-1"
			aria-labelledby="exportModalLabel"
			aria-hidden="true"
			role="dialog"
		>
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="exportModalLabel">Export</h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div
							id="copyExportedContent"
							class="copyContentIcon material-symbols-outlined"
							aria-label="Copy to clipboard"
							role="button"
						>
							content_copy
						</div>
						<textarea id="exportedContent" spellcheck="false"></textarea>
					</div>
					<div class="modal-footer">
						<div class="input-group w-px-200 flex-grow-1">
							<input
								type="text"
								class="form-control"
								aria-label="Filename"
								id="exportModalFileBasename"
								placeholder="Circuit"
							/>
							<input
								type="text"
								disabled
								id="exportModalFileExtension"
								class="form-control"
								aria-label="Filename extension"
							/>
							<button
								type="button"
								class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								<span class="visually-hidden">Select filename extension</span>
							</button>
							<ul class="dropdown-menu dropdown-menu-end" id="exportModalFileExtensionDropdown"></ul>
						</div>
						<button type="button" class="btn btn-primary icon-button" id="exportModalSave">
							<span class="material-symbols-outlined">save</span>Save
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal (about dialog) -->
		<div
			class="modal fade"
			id="aboutModal"
			tabindex="-1"
			aria-labelledby="aboutModalLabel"
			aria-hidden="true"
			role="dialog"
		>
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="aboutModalLabel">About Project</h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p>
							The CircuiCanvas-Project was started as a research project at the Institute of Electronics
							Engineering at the Friedrich-Alexander-Universit&auml;t Erlangen-N&uuml;rnberg. The goal was
							to create a progressive web application for easy and faster drawing of circuits using
							CircuiTi<i>k</i>Z.
						</p>
						<p>&copy; 2024 Manuel Kirzinger, Christof Pfannenm&uuml;ller, Philipp Wiedemann </p>
						<div class="row">
							<div class="col-sm-4">
								<a class="icon-link" href="https://ussi.e-technik.uni-erlangen.de/" target="_blank">
									<svg class="bi" width="32" height="32" fill="currentColor">
										<use xlink:href="../icons/bootstrap-icons.svg#house" />
									</svg>
									Homepage
								</a>
							</div>
							<div class="col-sm-4">
								<a
									class="icon-link"
									href="https://git.lte.e-technik.uni-erlangen.de/circuitikz-gui/circuitikz-pwa"
									target="_blank"
								>
									<svg class="bi" width="32" height="32" fill="currentColor">
										<use xlink:href="../icons/bootstrap-icons.svg#gitlab" />
									</svg>
									CircuiCanvas
								</a>
							</div>
							<div class="col-sm-4">
								<a
									class="icon-link"
									href="https://git.lte.e-technik.uni-erlangen.de/circuitikz-gui/SymbolConvert"
									target="_blank"
								>
									<svg class="bi" width="32" height="32" fill="currentColor">
										<use xlink:href="../icons/bootstrap-icons.svg#gitlab" />
									</svg>
									SymbolConvert
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- The actual canvas -->
		<include src="pages/canvas.svg"></include>
	</body>
</html>
